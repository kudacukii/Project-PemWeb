<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bantoo! - Lokasi Bencana</title>
    <!-- CSS Global -->
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/buttons.css">
    <link rel="stylesheet" href="../css/footer.css">
    <link rel="stylesheet" href="../css/form.css">
</head>
<body>
    <header>
        <h1>Bantoo!</h1>
        <nav>
            <a href="../html/Bantoo!.html">Beranda</a>
            <a href="../html/kategori.html">Kategori Donasi</a>
            <a href="../html/kampanye.html">Kampanye</a>
            <a href="../html/profil.html">Profil</a>
            <a href="../html/lokasi.html">Lokasi Bencana</a>
            <a href="../html/company-profile.html">Company Profile</a>
            <span id="authButtons"></span> <!-- Tombol Login/Logout akan muncul di sini -->
        </nav>
    </header>

    <main>
        <section id="laporan-bencana">
            <h2>Laporkan Bencana</h2>
            <form id="formLaporan">
                <div class="form-group">
                    <label for="namaPelapor">Nama Pelapor:</label>
                    <input type="text" id="namaPelapor" required>
                </div>
                <div class="form-group">
                    <label for="provinsi">Provinsi:</label>
                    <select id="provinsi" onchange="isiKota()" required>
                        <option value="">Pilih Provinsi</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="kota">Kota:</label>
                    <select id="kota" required>
                        <option value="">Pilih Kota</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="jenisBencana">Jenis Bencana:</label>
                    <select id="jenisBencana" required>
                        <option value="">Pilih Jenis Bencana</option>
                        <option value="banjir">Banjir</option>
                        <option value="gempa">Gempa Bumi</option>
                        <option value="kekeringan">Kekeringan</option>
                        <option value="lainnya">Lainnya</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="deskripsi">Deskripsi:</label>
                    <textarea id="deskripsi" rows="4" required></textarea>
                </div>
                <div class="form-group">
                    <label for="kontak">Kontak Darurat:</label>
                    <input type="text" id="kontak" required>
                </div>
                <button type="submit">Kirim Laporan</button>
            </form>
        </section>

        <section id="histori-bencana">
            <h2>Histori Bencana</h2>
            <div class="search-container">
                <input type="text" id="searchHistori" placeholder="Cari berdasarkan lokasi atau jenis bencana...">
                <button onclick="cariHistori()">Cari</button>
            </div>
            <div id="daftarHistori">
                <!-- Histori bencana akan ditampilkan di sini -->
            </div>
        </section>

        <section id="info-bencana">
            <h2>Informasi Bencana Terkini</h2>
            <div id="daftarBencana">
                <!-- Informasi bencana akan ditampilkan di sini -->
            </div>
        </section>

        <section id="peta-bencana">
            <h2>Peta Interaktif</h2>
            <div id="peta" style="height: 400px; width: 100%;"></div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Bantoo!. Semua hak dilindungi.</p>
    </footer>

    <!-- JavaScript -->
    <script src="../js/auth.js"></script>
    <script src="../data/lokasi.js"></script>
    <script>
        // Isi dropdown provinsi
        const provinsiSelect = document.getElementById('provinsi');
        lokasi.provinsi.forEach(prov => {
            const option = document.createElement('option');
            option.value = prov.nama;
            option.textContent = prov.nama;
            provinsiSelect.appendChild(option);
        });

        // Isi dropdown kota berdasarkan provinsi yang dipilih
        function isiKota() {
            const kotaSelect = document.getElementById('kota');
            kotaSelect.innerHTML = '<option value="">Pilih Kota</option>';

            const provinsiTerpilih = provinsiSelect.value;
            const provinsi = lokasi.provinsi.find(prov => prov.nama === provinsiTerpilih);

            if (provinsi) {
                provinsi.kota.forEach(kota => {
                    const option = document.createElement('option');
                    option.value = kota;
                    option.textContent = kota;
                    kotaSelect.appendChild(option);
                });
            }
        }
    </script>
</body>
</html>